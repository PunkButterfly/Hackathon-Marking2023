# Система предиктивной аналитики рынка

## Концепция 
В рамках хакатона MARKING HACK команда Punk Butterfly разработала сервис, взаимодействующий с системой маркировки "ЧЕСТНЫЙ ЗНАК" с помощью которого государство может

## Описание алгоритмов 

### Аналитика показателей дистрибьютеров

Государству интересно видеть аномальные показатели продаж для выявления потенциально подозрительных торговых точек.

Для проведения аналитики мы используем несколько показателей:
1. **Аномально высокую минимальную цену** у ретейлера на товар с конкретным `gtin` относительно окружающих его регионов. Смотрим, какой ретейл продал выбранный `gtin` в регионе по минимальной цене в заданный промежуток времени. Государство видит карту регионов, где регионы имеют соответствующую раскраску, исходя из показателя минимальный цены на данный товар.
2. **Разнообразие товаров** у ретейлера. В каждом регионе для каждого представленного ретейла считаем количество gtins - чем больше их количество, тем считаем ретейл разнообразнее. Государство увидит ретейлы с очень маленьким разнообразием товаров в каждом регионе.

### Индекс Леши
Для поиска монополий среди поставщиков мы использов

ССЫЛКА НА ВКЛАДКУ

### Прогнозирование спроса по регионам в разрезе gtin
Когда возникает локальный дефицит товара, государство заинтересовано в предотвращении этого дефицита, поэтому ему (государству) выгоднуо привлекать производителей товара в регион, где ожидается резкий скачек роста на спрос по товару (группе товаров). 

Для предотвращения дефицита мы разработали систему прогнозирования спроса на конкретный gtin в конкретном регионе. В качестве модели используется нейронная сесть LSTM, обучающаяся на данных о спросе, для каждой уникальной пары (gtin, reg_id), а затем моедль считает пресдказания спроса на 12 недель вперед. В рамках хакатона для увелечения скорости вычислений мы решили взять только 100 уникальных gtin, самых популярных (по спросу).

В системе можно увидеть карту регионов, на которой, при вводе gtin подсвечиваются регионы с максимальным введеной нами **метрикой**. Пусть
* __predicted_window_max__ -- максимальное значение известного спроса за последние 12 недель
* previous_window_max -- максимальное значение предсказанного спроса за следующие 12 недель.

Тогда **метрика** вводится как 
```(predicted_window_max - previous_window_max)/previous_window_max```

Чем **больше** это значение, тем более резкий скачек роста спроса на товар может произойти в регионе. 

Данная разработка может помочь государству выделить регионы, в которые стоит привлечь поставщиков конкретных товаров. Для привлечения можно использовать какие-либо льготы, по типу освобождения от налогов и пр.

ССЫЛКА НА ВКЛАДКУ

### Прогнозирование спроса и поставок товаров в стране
Также мы разработали систему одновременного предсказания спроса и предложения относительно всей страны (без деления по регионам) (ЧТО ТАКОЕ ПРЕДЛОЖЕНИЕ?). Для этого так же использовались сети LSTM. 

ССЫЛКА НА ВКЛАДКУ

## Развернутый прототип 

## Исходный код 
